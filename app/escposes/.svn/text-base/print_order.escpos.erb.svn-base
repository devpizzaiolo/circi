
<% if @order.for_pickup? %><%= text("Pickup At:") %><% else %><%= text("Deliver On:") %><% end %>
<% if @order.for_pickup? %><%= text(@order.to_be_ready_at_formatted) %><% else %><%= text(@order.to_be_ready_at_formatted) %><% end %>

<% if @order.for_pickup? %><%= text("Pickup By:") %><% else %><%= text("Deliver To:") %><% end %>
<%= single_splitline %>
<%= text("#{@order.first_name} #{@order.last_name}") %>
<% if @order.for_pickup? %><%= text(@order.contact_phone_number) %><% else %><%= text("#{@order.delivery_address_1},#{@order.delivery_address_2},#{@order.delivery_city},#{@order.delivery_postal_code}\n#{@order.phone_number}") %><% end %>

<% unless @order.order_additional.blank? || @order.order_additional == 'null' %><% if @order.order_additional['catering_order'] == "1" %><%= text("CATERING ORDER", :font_size => FONT_BIG) %><%= text("\n#{@order.order_additional['catering_order_group_number']} people") %><% end %><% end %>
<% if @order.pizza_count > 0 %><%= text("\nPizzas (#{@order.pizza_count.to_s}):\n") %><% count =0 %><% @order.order_items.each do |oi| %><% if oi.product_info['product_type'] == "pizza" %><% count +=1 %><%= text("\n\n") %><%= text(ApplicationController.helpers.print_format_keypair("#{count}. #{if oi.custom == true then "Custom Pizza" else "#{oi.product_info['product_name']}" end}", oi.price_formatted )) %><%= text("\n   #{oi.pizza_size_long_form}\n") %><%= unless oi.product_info['pizza_size'].include?("gluten-free") then text("   Crust: #{oi.product_info['pizza_crust']}") end %><%= unless oi.product_info['pizza_size'].include?("gluten-free") then text(", Style: #{oi.product_info['pizza_crust_style']}") end %><%= text("\n") %><%= single_splitline %><% if oi.toppings_print_arr('whole').count > 0 %><% oi.toppings_print_arr('whole').each do |oil| %><%= text("#{oil[0]}", :align_type => ALIGN_L) %><%= text("#{oil[1]}", :align_type => ALIGN_L) %><%= text("#{oil[2]}", :align_type => ALIGN_R) %><%= text("\n") %><% end %><% end %><% if oi.toppings_print_arr('left').count > 0 %><%= text("*** Toppings (Side 1) ***\n", :align_type => ALIGN_C) %><% oi.toppings_print_arr('left').each do |oil| %><%= text("#{oil[0]}", :align_type => ALIGN_L) %><%= text("#{oil[1]}", :align_type => ALIGN_L) %><%= text("#{oil[2]}", :align_type => ALIGN_R) %><%= text("\n") %><% end %><% end %><% if oi.toppings_print_arr('right').count > 0 %><%= text("*** Toppings (Side 2) ***\n", :align_type => ALIGN_C) %><% oi.toppings_print_arr('right').each do |oil| %><%= text("#{oil[0]}", :align_type => ALIGN_L) %><%= text("#{oil[1]}", :align_type => ALIGN_L) %><%= text("#{oil[2]}", :align_type => ALIGN_R) %><%= text("\n") %><% end %><% end %><% end %><% end %><% end %>
<% if @order.calzone_count > 0 %><%= text("\nCalzones (#{@order.calzone_count.to_s}):\n") %><% count =0 %><% @order.order_items.each do |oi| %><% if oi.product_info['product_type'] == "calzone" %><% count +=1 %><%= text("\n\n") %><%= text(ApplicationController.helpers.print_format_keypair("#{count}. Baked Calzone", "#{oi.price_formatted}")) %><%= text("\n   Crust: #{oi.product_info['calzone_crust']}") %><%= text("\n") %><% if oi.toppings_calzone_print_arr.count > 0 %><%= single_splitline %><% oi.toppings_calzone_print_arr.each do |oil| %><%= text("#{oil[0]}", :align_type => ALIGN_L) %><%= text("#{oil[1]}", :align_type => ALIGN_L) %><%= text("#{oil[2]}", :align_type => ALIGN_R) %><%= text("\n") %><% end %><% end %><% end %><% end %><% end %>
<% unless @order.order_additional.blank? || @order.order_additional == 'null' %><% if @order.beverages_total > 0 %><%= text("\nBeverages:\n") %><%= single_splitline %><% @order.beverages_summary_print.each do |beverage| %><%= text(ApplicationController.helpers.print_format_keypair("#{beverage[0]}","#{beverage[1]}")) %><%= text("\n") %><% end %><% end %><% if @order.salads_total > 0 %><%= text("\nSalads:\n") %><%= single_splitline %><% @order.salads_summary_print.each do |salad| %><%= text(ApplicationController.helpers.print_format_keypair("#{salad[0]}","#{salad[1]}")) %><%= text("\n") %><% end %><% end %><% if @order.dipping_sauces_total > 0 %><%= text("\nDipping Sauces:\n") %><%= single_splitline %><% @order.dipping_sauces_summary_print.each do |dipping_sauce| %><%= text(ApplicationController.helpers.print_format_keypair("#{dipping_sauce[0]}","#{dipping_sauce[1]}")) %><%= text("\n") %><% end %><% end %><% if @order.order_additional['catering_order'] == "1" %><%= text("\nDesserts:\n") %><%= single_splitline %><% @order.desserts_summary_print.each do |dessert| %><%= text(ApplicationController.helpers.print_format_keypair("#{dessert[0]}","#{dessert[1]}")) %><%= text("\n") %><% end %><% end %><% if @order.order_additional['catering_order'] == "1" %><% if @order.utensils_summary_print.count > 0 %><%= text("\nUtensils:\n") %><%= single_splitline %><% @order.utensils_summary_print.each do |utensil| %><%= text("#{utensil[0]}") %><%= text("\n") %><% end %><% end %><% end %><% end %>
<% unless @order.special_instructions.blank? %><%= text("\nSpecial Instructions:\n") %><%= single_splitline %><%= text("#{@order.special_instructions}") %><% end %>
<%= single_splitline %>
<%= text(ApplicationController.helpers.print_format_keypair('Sub-Total:',@order.total_price_formatted)) %>
<%= text(ApplicationController.helpers.print_format_keypair('Delivery:',@order.delivery_formatted)) %>
<%= text(ApplicationController.helpers.print_format_keypair('Tax:',@order.sales_tax_inc_delivery_formatted)) %>
<%= text("                                ----------") %>
<%= text(ApplicationController.helpers.print_format_keypair('TOTAL:',@order.total_price_including_sales_tax_inc_delivery_formatted)) %>

<%= unless @order.for_pickup? then text("Method of payment: #{@order.method_of_payment.name} ", :align_type => ALIGN_C) end %>

<%= text("\x1b\x70\x30\xfff\x0") %>